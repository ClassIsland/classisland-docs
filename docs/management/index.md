# 集控

学校/组织的 IT 可以通过集控功能向学校内的 ClassIsland 实例统一分发课表、时间表和科目等信息，并且可以集中调整软件设置和限制部分功能的使用，提高管理的便利性。

<a id="get-started"></a>

## 开始使用

本功能支持通过静态配置文件部署，也可以通过管理服务器部署。您可以根据情况自由选择部署方式。

<a id="get-started-static"></a>

### 使用静态配置文件

您可以手动编写集控配置文件，并将其托管到静态网站上。

[🚀入门教程](tutorial-create-management-config.md)

[📖参考文档](configure.md)

<a id="get-started-server"></a>

### 集控服务器

_🚧正在开发_

<a id="get-started-compare"></a>

### 选哪个？

(WIP)

<a id="loading-progress"></a>

## 加载流程

集控相关配置会按照以下流程进行加载，展开以查看详细信息。

<details>
<summary>展开流程图</summary>

```mermaid
graph TD
  A(("应用启动")) --> B["加载本地集控配置"]
  B --> C{"启用集控？"}
  C -->|"是"| D["加载集控清单"]
  D --> E{"连接类型？"}
  E -->|"集控服务器"| F["建立gRPC连接"]
  F --> G["监听服务端指令"] --> H
  E -->|"静态配置文件"| H["加载策略"]
  H --> I{"首次启动？"}
  I -->|"是"| J["加载默认设置"] --> K
  I -->|"否"| K(("加载档案"))
  K --> L["依次加载并合并科目、档案与时间表"]
  L --> M["保存对象版本信息"]
  M --> N(("加载完成"))
  C -->|"否"| N
```

</details>

获取到的配置文件（如清单、策略、课表等）会缓存在本地，并只在有更新时才会重新获取。在启用集控后，将强制加载管理档案，与普通档案不互通数据。
